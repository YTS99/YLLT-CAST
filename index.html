<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>联大应科 - 青年领学说</title>
<style>
  body {
    margin: 0;
    font-family: "Microsoft YaHei", "Segoe UI", Arial, sans-serif;
    background: #fff0f0;
    color: #333;
    display: flex;
    flex-direction: column;
    height: 100vh;
  }
  /* 顶部导航 */
  header {
    background: #c62828;
    color: #fff;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }
  .site-title {
    font-size: 1.6em;
    font-weight: bold;
  }
  .site-tags {
    display: flex;
    gap: 10px;
    font-size: 1.5em;
    color: #ffd54f;
  }
  #search {
    padding: 4px 8px;
    border-radius: 4px;
    border: none;
    font-size: 0.9em;
    width: 180px;
  }
  #container {
    flex: 1;
    display: flex;
    overflow: hidden;
  }
  /* 左侧导航 */
  #sidebar {
    width: 280px;
    background: #fff5f5;
    padding: 15px;
    box-sizing: border-box;
    overflow-y: auto;
    border-right: 2px solid #c62828;
  }
  #sidebar input {
    width: 100%;
    padding: 6px 8px;
    margin-bottom: 15px;
    border-radius: 4px;
    border: 1px solid #ccc;
    box-sizing: border-box;
    font-size: 0.85em;
  }
  .video-item {
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.2s, transform 0.2s;
    background: #fff0f0;
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
  }
  .video-item:hover {
    background: #ffcdd2;
    transform: translateX(2px);
  }
  .video-item.active {
    background: #ef9a9a;
    font-weight: bold;
    border-left: 4px solid #c62828;
  }
  /* 主内容 */
  #main {
    flex: 1;
    padding: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow-y: auto;
  }
  #page-info {
    max-width: 800px;
    text-align: center;
    margin-bottom: 15px;
  }
  #page-info h2 {
    margin: 5px 0;
    color: #b71c1c;
    font-size: 1.3em;
  }
  #page-info p.subtitle {
    margin: 3px 0;
    color: #7f0000;
    font-size: 1em;
  }
  #global-declaration {
    max-width: 800px;
    background: #ffe0e0;
    border-left: 5px solid #c62828;
    padding: 12px 15px;
    margin-bottom: 20px;
    border-radius: 6px;
    font-size: 0.95em;
    color: #5d0c0c;
    line-height: 1.4em;
  }
  #video-info {
    margin-bottom: 20px;
    width: 100%;
    max-width: 800px;
    text-align: left;
    background: #fff0f0;
    padding: 12px 15px;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  }
  #video-info h3 {
    margin: 0 0 6px 0;
    font-size: 1.25em;
    color: #c62828;
  }
  #video-info p {
    margin: 2px 0;
    color: #5d0c0c;
    font-size: 1em;
  }
  video {
    width: 100%;
    max-width: 800px;
    border-radius: 10px;
    background: #000;
    box-shadow: 0 4px 12px rgba(0,0,0,0.25);
  }
</style>
</head>
<body>

<header>
  <div class="site-title">联大应科 - 青年领学说合集V1.0.0</div>
  <div class="site-tags">
    <span>1080P全高清</span>
    <span>完全开源开放</span>
    <span>全球可用</span>
  </div>
  <input type="text" id="search" placeholder="搜索您想观看的领学人...">
</header>

<div id="container">
  <div id="sidebar">
    <div id="video-list"></div>
  </div>

  <div id="main">
    <div id="page-info">
      <h2>习近平总书记关于党的建设的重要思想概论系列节目</h2>
      <h2>共青团北京联合大学应用科技学院委员会</h2>
      <p class="subtitle">全程个人技术演示，内容采用官方公开渠道资源，非本站存储。</p>
    </div>

    <div id="global-declaration">
      本页面为个人技术演示所用，与北京联合大学应用科技学院任何内部组织无任何关系。所有内容均为通过官方渠道获取的资源定位符播放，本平台不存储任何该学院内部组织制作的音像资源。如您对本站观看的资源有任何需求或疑问，请直接联系该学院相关组织。
    </div>

    <div id="video-info">
      <h3 id="episode">期数: </h3>
      <p id="author">作者: </p>
      <p id="date">发布日期: </p>
    </div>
    <video id="video-player" controls></video>
  </div>
</div>

<script>
const videoListEl = document.getElementById('video-list');
const videoPlayer = document.getElementById('video-player');
const episodeEl = document.getElementById('episode');
const authorEl = document.getElementById('author');
const dateEl = document.getElementById('date');
const searchInput = document.getElementById('search');

let allVideos = [];
let activeVideo = null;

// 替换成你的 JSON 地址
const jsonUrl = 'https://yts99.github.io/YLLT-CAST/res.json';

fetch(jsonUrl)
  .then(res => res.json())
  .then(data => {
    allVideos = data.videos;
    renderVideoList(allVideos);
    if(allVideos.length > 0) loadVideo(allVideos[0]);
  })
  .catch(err => console.error('无法加载视频数据:', err));

function renderVideoList(videos) {
  videoListEl.innerHTML = '';
  if(videos.length === 0) {
    videoListEl.innerHTML = '<p style="color:#999;">未找到相关视频</p>';
    return;
  }
  videos.forEach((video) => {
    const div = document.createElement('div');
    div.className = 'video-item';
    div.innerHTML = `
      <div>期数: ${video.episode}</div>
      <div>作者: ${video.author}</div>
      <div>发布日期: ${video.date}</div>
    `;
    div.addEventListener('click', () => loadVideo(video));
    videoListEl.appendChild(div);
  });
  highlightActive();
}

function loadVideo(video) {
  activeVideo = video;
  videoPlayer.src = video.video_url;
  episodeEl.textContent = `期数: ${video.episode}`;
  authorEl.textContent = `作者: ${video.author}`;
  dateEl.textContent = `发布日期: ${video.date}`;
  highlightActive();
}

function highlightActive() {
  const items = document.querySelectorAll('.video-item');
  items.forEach(item => {
    const text = item.textContent;
    if(activeVideo && text.includes(`期数: ${activeVideo.episode}`)) {
      item.classList.add('active');
    } else {
      item.classList.remove('active');
    }
  });
}

// 搜索功能
searchInput.addEventListener('input', () => {
  const keyword = searchInput.value.trim().toLowerCase();
  const filtered = allVideos.filter(v => v.author.toLowerCase().includes(keyword));
  renderVideoList(filtered);
});
</script>

</body>
</html>
